# ‚ò∏Ô∏è Kubernetes-Ready Configuration
image:
  bucket-name: ${S3_BUCKET_NAME:image-storage-images}
  thumbnail-bucket-name: ${S3_THUMBNAIL_BUCKET:image-storage-thumbnails}
  kms-key-id: ${KMS_KEY_ID:alias/image-storage-key}
  cloudfront-domain: ${CLOUDFRONT_DOMAIN:}
  max-file-size: ${MAX_FILE_SIZE_BYTES:10485760}
  region: ${AWS_REGION:eu-central-1}
  url-expiration-minutes: ${URL_EXPIRATION_MINUTES:15}
  thumbnail-sizes: [150, 300, 600]
  supported-types:
    - image/jpeg
    - image/png
    - image/webp
  max-results: ${MAX_RESULTS:1000}
  key-prefix: ${KEY_PREFIX:images}

# üîí Security Configuration
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${JWT_ISSUER_URI:}

# üìä Kubernetes Health Checks
management:
  endpoints:
    web:
      base-path: /actuator
  endpoint:
    health:
      probes:
        enabled: true
  health:
    livenessstate:
      enabled: true
    readinessstate:
      enabled: true

# üìù Structured Logging for Kubernetes
logging:
  level:
    com.valantic.sti.image: ${LOG_LEVEL:INFO}
    software.amazon.awssdk.request: ${AWS_SDK_LOG_LEVEL:WARN}
    root: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
